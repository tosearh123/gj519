"use strict";var getData=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pAjax({url:"../api/getData.php",data:{start:defaultInfo.num,len:defaultInfo.len}});case 2:renderHtml((n=t.sent).list),search.onclick=function(){var t,e=window.event;console.log(e.target.innerHTML),"默认"==e.target.innerHTML?location.href="./list.html":"销量"==e.target.innerHTML?(t=n.list.sort(function(t,e){return e.buyCount-t.buyCount}),$(e.target).addClass("actives").siblings().removeClass("actives"),renderHtml(t)):"价格"==e.target.innerHTML&&(t=n.list.sort(function(t,e){return e.price-t.price}),$(e.target).addClass("actives").siblings().removeClass("actives"),renderHtml(t))};case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();function _asyncToGenerator(t){return function(){var l=t.apply(this,arguments);return new Promise(function(o,i){return function e(t,n){try{var a=l[t](n),r=a.value}catch(t){return void i(t)}if(!a.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}$(".tab_1").hover(function(){$(this).addClass("active").siblings().removeClass("active");var t=$(this).index();$(".tab_2").eq(t).addClass("active").siblings().removeClass("active")});var center=document.querySelector(".header_center_right");console.log(center),center.onclick=function(){"shopCar"==window.event.target.className&&(location.href="../html/car.html")};var huan,tou=document.querySelector(".tou"),login=getCookie("login");login&&(tou.innerHTML=login+'<b class="huan">[退出]</b>',(huan=document.querySelector(".huan")).onclick=function(){console.log(1),delCookie("login"),tou.innerHTML=' <li class="login"><a href="../html/login.html"> 登录</a> </li>\n    <i>|</i>\n    <li class="zhuce"><a href="../html/register.html">注册</a> </li>'});var lists=document.querySelector(".lists"),page=document.querySelector(".page"),search=document.querySelector(".search_order"),defaultInfo={len:30,num:1};function renderHtml(t){var n="";console.log(t),t.forEach(function(t,e){n+=' <div class="toDetail" cateId="'+t.cateId+'"> \n            <figure class="container_list" cateId="'+t.cateId+'">          \n                <img src="'+t.pic+'" alt="">\n                <figuration class="container_lists">\n                    <p class="introduce">'+t.name+'</p>\n                    <p class="introduce">'+t.say+'</p>\n                    <p class="introduce">\n                        <span class="price"><i>￥</i>'+t.price+'</span>\n                        <span class="sold"><i>已售</i>'+t.buyCount+"</span>\n                    </p>\n                </figuration>    \n            </figure>\n        </div>\n        "}),$(".lists").html(n)}pAjax({url:"../api/getData.php",data:{start:defaultInfo.num,len:defaultInfo.len}}).then(function(t){new Pagination(page,{pageInfo:{pagenum:1,pagesize:defaultInfo.len,total:t.total,totalpage:Math.ceil(t.total/defaultInfo.len)},textInfo:{first:"首页",prev:"上一页",list:"",next:"下一页",last:"最后一页"},change:function(t){defaultInfo.num=t,getData(),scrollTo(0,0)}})}),$("#sousuo").on("click",function(){$.get("../api/shousuo.php",{name:$("#txt").val()},function(t){console.log(t),renderHtml(t)},"json")}),$(".lists").on("click",".toDetail",function(){location.href="./details.html?cateId="+$(this).attr("cateId")});